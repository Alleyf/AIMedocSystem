{% load cache %}
{% load static %}
{% load compress %}
<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    {% block mytitle %}
        <title>智检慧医</title>
    {% endblock %}
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MedocsysTem, We help your doc management.">
    <link rel="icon" href="{% static '/images/logo.png' %}" type="image/x-icon"/>
    <link rel="shortcut icon" href="{% static '/images/logo.png' %}" type="image/x-icon"/>
    <link rel="apple-touch-icon" sizes="120x120" href="{% static '/images/logo.png' %}"/>
    <link rel="apple-touch-icon" sizes="152x152" href="{% static '/images/logo.png' %}"/>
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.3.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    {% compress css %}
        <link rel="stylesheet" href="{% static 'css/layout.css' %}">
        <link rel="stylesheet" href="{% static 'plugins/bootstrap-5.2.3/css/bootstrap.min.css' %}">
        <link href="{% static '/plugins/perfect-scrollbar/css/perfect-scrollbar.min.css' %}" rel="stylesheet"/>
        <link rel="stylesheet" href="{% static '/css/chat_box.css' %}" type="text/css" media="all">
    {% endcompress %}
    {% block mystyle %}
    {% endblock %}
    {% compress css %}
        <style>
            /* Let's get this party started */
            ::-webkit-scrollbar {
                width: 7px;
                height: 7px;
            }

            /* Track */
            ::-webkit-scrollbar-track {
                -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
                -webkit-border-radius: 10px;
                border-radius: 10px;
            }

            /* Handle */
            ::-webkit-scrollbar-thumb {
                -webkit-border-radius: 10px;
                border-radius: 10px;
                background: rgb(205, 206, 224);
                -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);
            }

            ::-webkit-scrollbar-thumb:window-inactive {
                background: rgb(255, 255, 255);
            }

            html, body {
                margin: 0;
                padding: 0;
            }

            .scrollspy-example-2 {
                position: absolute;
                height: 1000px;
                overflow: auto;
            }

            .background {
                position: absolute;
                display: block;
                top: 0;
                left: 0;
                z-index: -10;
            }

            a {
                text-decoration: none;
            }

            .nav-container {
                background: transparent;
                backdrop-filter: blur(5px);
            }

        </style>
    {% endcompress %}
</head>

<body class="ltr app sidebar-mini sidenav-toggled">

{% block mynav %}
    <!-- GLOBAL-LOADER -->
    <div id="global-loader">
        <img src="{% static 'images/loader.svg' %}" class="loader-img" alt="Loader">
    </div>
    <!-- /GLOBAL-LOADER -->
    {#文献星球#}
    <div class="dropdown modal fade" id="RandocModal" tabindex="-1"
         aria-labelledby="RandocModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xs">
            <div class="modal-content text-center">
                <div class="modal-header text-primary">
                    <h1 class="modal-title fs-5" id="RandocModalLabel">文献星球</h1>
                    <button type="button" class="btn-close btn-outline-info"
                            data-bs-dismiss="modal"
                            aria-label="Close">X
                    </button>
                </div>
                <div class="modal-body">
                    <div class="card-group text-center" id="doccard"
                         style="flex-direction: column;justify-content: center;overflow:hidden"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                    <button type="button" onclick="get_randoc()" class="btn btn-primary btn_next">下一个</button>
                </div>
            </div>
        </div>
    </div>
    {#排行榜#}
    <div class="modal fade" id="rankmodal" style="display: none;"
         aria-modal="true">
        <div class="modal-dialog modal-xl modal-dialog-centered text-center" role="document">
            <div class="modal-content modal-content-demo">
                <div class="modal-header">
                    <h6 class="modal-title">排行榜</h6>
                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal"><span
                            aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body">
                    <div class="row row-sm">
                        <div class="col-lg-12">
                            <div class="card custom-card">
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <div id="user-datatable_wrapper"
                                             class="dataTables_wrapper dt-bootstrap5 no-footer">
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <table id="user-datatable"
                                                           class="table table-bordered dataTable no-footer" role="grid"
                                                           aria-describedby="user-datatable_info">
                                                        <thead>
                                                        <tr role="row">
                                                            <th class="wd-2 sorting sorting_asc" tabindex="0"
                                                                aria-controls="user-datatable" rowspan="1" colspan="1"
                                                                aria-sort="ascending" aria-label="
																头像
															: activate to sort column descending"
                                                                style="width: 40.4297px;">
                                                                头像
                                                            </th>
                                                            <th class="sorting" tabindex="0"
                                                                aria-controls="user-datatable" rowspan="1" colspan="1"
                                                                aria-label="用户名: activate to sort column ascending"
                                                                style="width: 182.609px;">用户名
                                                            </th>
                                                            <th class="sorting" tabindex="0"
                                                                aria-controls="user-datatable" rowspan="1" colspan="1"
                                                                aria-label="阅读量: activate to sort column ascending"
                                                                style="width: 155.938px;">阅读量
                                                            </th>
                                                            <th class="sorting" tabindex="0"
                                                                aria-controls="user-datatable" rowspan="1" colspan="1"
                                                                aria-label="文献贡献数: activate to sort column ascending"
                                                                style="width: 75.8359px;">文献贡献数
                                                            </th>
                                                            <th class="sorting" tabindex="0"
                                                                aria-controls="user-datatable" rowspan="1" colspan="1"
                                                                aria-label="注册时间: activate to sort column ascending"
                                                                style="width: 79.7969px;">注册时间
                                                            </th>
                                                        </tr>
                                                        </thead>
                                                        <tbody id="ranktbody">
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" data-bs-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>

    <!-- PAGE -->
    <div class="page">
        <div class="page-main wrappercontent">
            <!-- app-Header -->
            <div class="app-header header sticky nav-container">
                <div class="container-fluid main-container">
                    <div class="d-flex">
                        <a aria-label="Hide Sidebar" data-bs-toggle="sidebar" href="#">
                            <i class="fa fa-bars"></i>
                        </a>
                        <!-- sidebar-toggle-->
                        <a class="logo-horizontal" href="#" style="margin: auto 20px">
                            <img src="{% static '/images/logo.png' %}"
                                 class="header-brand-img desktop-logo"
                                 alt="logo">
                            <img src="{% static '/images/logo.png' %}"
                                 class="header-brand-img light-logo1"
                                 alt="logo">
                        </a>
                        <!-- LOGO -->
                        <div class="text-center animate__animated animate__fadeIn"
                             style="margin: auto 10px;display: flex;color: #0a84ff;font-size: 30px">
                            智检慧医
                        </div>
                        <div class="d-flex order-lg-2 ms-auto header-right-icons">
                            <button class="navbar-toggler navresponsive-toggler d-md-none ms-auto" type="button"
                                    data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent-4"
                                    aria-controls="navbarSupportedContent-4" aria-expanded="false"
                                    aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon fa fa-bars"></span>
                            </button>
                            <div class="navbar navbar-collapse responsive-navbar p-0">
                                <div class="collapse navbar-collapse" id="navbarSupportedContent-4">
                                    <div class="d-flex order-lg-2">

                                        {#                                        排行榜#}

                                        <div class="dropdown  d-flex">
                                            <button class="nav-link icon nav-link-bg" id="btn_rank"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#rankmodal">
                                                <i class="fa-solid fa-ranking-star"></i>
                                            </button>
                                        </div>

                                        <div class="dropdown  d-flex">
                                            <button class="nav-link icon nav-link-bg" id="btn_randoc"
                                                    data-bs-toggle="modal" onclick="get_randoc()"
                                                    data-bs-target="#RandocModal">
                                                <i class="fa-solid fa-earth-americas"></i>
                                            </button>
                                        </div>

                                        <div class="dropdown  d-flex">
                                            <a class="nav-link icon theme-layout nav-link-bg layout-setting">
                                                <span class="dark-layout">
                            <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24"
                                 viewBox="0 0 24 24">
                            <path d="M22.0482178,13.2746582c-0.1265259-0.2453003-0.4279175-0.3416138-0.6732178-0.2150879C20.1774902,13.6793823,18.8483887,14.0019531,17.5,14c-0.8480835-0.0005493-1.6913452-0.1279297-2.50177-0.3779297c-4.4887085-1.3847046-7.0050049-6.1460571-5.6203003-10.6347656c0.0320435-0.1033325,0.0296021-0.2142944-0.0068359-0.3161621C9.2781372,2.411377,8.9921875,2.2761841,8.7324219,2.3691406C4.6903076,3.800293,1.9915771,7.626709,2,11.9146729C2.0109863,17.4956055,6.5440674,22.0109863,12.125,22c4.9342651,0.0131226,9.1534424-3.5461426,9.9716797-8.4121094C22.1149292,13.4810181,22.0979614,13.3710327,22.0482178,13.2746582z M16.0877075,20.0958252c-4.5321045,2.1853027-9.9776611,0.2828979-12.1630249-4.2492065S3.6417236,5.8689575,8.1738281,3.6835938C8.0586548,4.2776489,8.0004272,4.8814087,8,5.4865723C7.9962769,10.7369385,12.2495728,14.9962769,17.5,15c1.1619263,0.0023193,2.3140869-0.2119751,3.3974609-0.6318359C20.1879272,16.8778076,18.4368896,18.9630127,16.0877075,20.0958252z"/>
                          </svg>
                        </span>
                                                <span class="light-layout">
                          <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24">
                            <path d="M6.3427734,16.9501953l-1.4140625,1.4140625c-0.09375,0.09375-0.1463623,0.2208862-0.1464233,0.3534546c0,0.276123,0.2238159,0.5,0.499939,0.500061c0.1326294,0.0001831,0.2598877-0.0525513,0.3535156-0.1464844l1.4140015-1.4140625c0.0024414-0.0023804,0.0047607-0.0047607,0.0071411-0.0071411c0.1932373-0.1971436,0.1900635-0.5137329-0.0071411-0.7069702C6.8526001,16.7498169,6.5360718,16.7529907,6.3427734,16.9501953z M6.3427734,7.0498047c0.0936279,0.0939331,0.2208862,0.1466675,0.3535156,0.1464844c0.1325684,0,0.2597046-0.0526733,0.3534546-0.1464233c0.1952515-0.1952515,0.1953125-0.5118408,0.000061-0.7070923L5.6356812,4.9287109c-0.1943359-0.1904907-0.5054321-0.1904907-0.6998291,0C4.7386475,5.1220093,4.7354736,5.4385376,4.9287109,5.6357422L6.3427734,7.0498047z M12,5h0.0006104C12.2765503,4.9998169,12.5001831,4.776001,12.5,4.5v-2C12.5,2.223877,12.276123,2,12,2s-0.5,0.223877-0.5,0.5v2.0006104C11.5001831,4.7765503,11.723999,5.0001831,12,5z M17.3037109,7.1962891c0.1326294,0.0001831,0.2598877-0.0525513,0.3535156-0.1464844l1.4140625-1.4141235c0.0023804-0.0023193,0.0047607-0.0046997,0.0070801-0.0070801c0.1932983-0.1972046,0.1900635-0.5137329-0.0070801-0.7070312c-0.1972046-0.1932373-0.5137329-0.1900635-0.7070312,0.0071411l-1.4140625,1.4140625c-0.09375,0.09375-0.1463623,0.2208862-0.1464233,0.3534546C16.803772,6.9723511,17.0275879,7.196228,17.3037109,7.1962891z M5,12c0-0.276123-0.223877-0.5-0.5-0.5h-2C2.223877,11.5,2,11.723877,2,12s0.223877,0.5,0.5,0.5h2C4.776123,12.5,5,12.276123,5,12z M17.6572266,16.9502563c-0.0023804-0.0023804-0.0046997-0.0047607-0.0070801-0.0070801c-0.1972046-0.1932983-0.5137329-0.1901245-0.7070312,0.0070801c-0.1932373,0.1971436-0.1901245,0.5136719,0.0070801,0.7069702l1.4140625,1.4140625c0.0936279,0.0939331,0.2208252,0.1466675,0.3534546,0.1464844c0.1325684,0,0.2597046-0.0526733,0.3534546-0.1463623c0.1953125-0.1952515,0.1953125-0.5118408,0.0001221-0.7070923L17.6572266,16.9502563z M12,19c-0.276123,0-0.5,0.223877-0.5,0.5v2.0005493C11.5001831,21.7765503,11.723999,22.0001831,12,22h0.0006104c0.2759399-0.0001831,0.4995728-0.223999,0.4993896-0.5v-2C12.5,19.223877,12.276123,19,12,19z M21.5,11.5h-2c-0.276123,0-0.5,0.223877-0.5,0.5s0.223877,0.5,0.5,0.5h2c0.276123,0,0.5-0.223877,0.5-0.5S21.776123,11.5,21.5,11.5z M12,6.5c-3.0375366,0-5.5,2.4624634-5.5,5.5s2.4624634,5.5,5.5,5.5c3.0360107-0.0037842,5.4962158-2.4639893,5.5-5.5C17.5,8.9624634,15.0375366,6.5,12,6.5z M12,16.5c-2.4852905,0-4.5-2.0147095-4.5-4.5S9.5147095,7.5,12,7.5c2.4841309,0.0026855,4.4973145,2.0158691,4.5,4.5C16.5,14.4852905,14.4852905,16.5,12,16.5z"/>
                          </svg>
                        </span></a></div>

                                        <!-- SHORTCUTS -->
                                        <div class="dropdown d-md-flex">
                                            <a class="nav-link icon full-screen-link nav-link-bg">
                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                     enable-background="new 0 0 24 24"
                                                     viewBox="0 0 24 24">
                                                    <path
                                                            d="M8.5,21H3v-5.5C3,15.223877,2.776123,15,2.5,15S2,15.223877,2,15.5v6.0005493C2.0001831,21.7765503,2.223999,22.0001831,2.5,22h6C8.776123,22,9,21.776123,9,21.5S8.776123,21,8.5,21z M8.5,2H2.4993896C2.2234497,2.0001831,1.9998169,2.223999,2,2.5v6.0005493C2.0001831,8.7765503,2.223999,9.0001831,2.5,9h0.0006104C2.7765503,8.9998169,3.0001831,8.776001,3,8.5V3h5.5C8.776123,3,9,2.776123,9,2.5S8.776123,2,8.5,2z M21.5,15c-0.276123,0-0.5,0.223877-0.5,0.5V21h-5.5c-0.276123,0-0.5,0.223877-0.5,0.5s0.223877,0.5,0.5,0.5h6.0006104C21.7765503,21.9998169,22.0001831,21.776001,22,21.5v-6C22,15.223877,21.776123,15,21.5,15z M21.5,2h-6C15.223877,2,15,2.223877,15,2.5S15.223877,3,15.5,3H21v5.5005493C21.0001831,8.7765503,21.223999,9.0001831,21.5,9h0.0006104C21.7765503,8.9998169,22.0001831,8.776001,22,8.5V2.4993896C21.9998169,2.2234497,21.776001,1.9998169,21.5,2z"/>
                                                </svg>
                                            </a>
                                        </div>
                                        <!-- FULL-SCREEN -->

                                        <!-- NOTIFICATIONS -->
                                        <div class="dropdown d-md-flex profile-1">
                                            <a href="#" data-bs-toggle="dropdown"
                                               class="nav-link pe-2 leading-none d-flex animate">
                        <span>
                          <img src="/media/avatars/{{ request.session.info.avatar }}" alt="profile-user"
                               class="avatar  profile-user brround cover-image">
                        </span>
                                                <div class="text-center p-1 d-flex d-lg-none-max">
                                                    <h6 class="mb-0"
                                                        id="profile-heading">{{ request.session.info.name }}<i
                                                            class="user-angle ms-1 fa fa-angle-down "></i>
                                                    </h6>
                                                </div>
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                                                <a class="dropdown-item"
                                                   href="/user/{{ request.session.info.id }}/edit/">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-inner-icn"
                                                         enable-background="new 0 0 24 24"
                                                         viewBox="0 0 24 24">
                                                        <path
                                                                d="M14.6650391,13.3672485C16.6381226,12.3842773,17.9974365,10.3535767,18,8c0-3.3137207-2.6862793-6-6-6S6,4.6862793,6,8c0,2.3545532,1.3595581,4.3865967,3.3334961,5.3690186c-3.6583862,1.0119019-6.5859375,4.0562134-7.2387695,8.0479736c-0.0002441,0.0013428-0.0004272,0.0026855-0.0006714,0.0040283c-0.0447388,0.272583,0.1399536,0.5297852,0.4125366,0.5745239c0.272522,0.0446777,0.5297241-0.1400146,0.5744629-0.4125366c0.624939-3.8344727,3.6308594-6.8403931,7.465332-7.465332c4.9257812-0.8027954,9.5697632,2.5395508,10.3725586,7.465332C20.9594727,21.8233643,21.1673584,21.9995117,21.4111328,22c0.0281372,0.0001831,0.0562134-0.0021362,0.0839844-0.0068359h0.0001831c0.2723389-0.0458984,0.4558716-0.303833,0.4099731-0.5761719C21.2677002,17.5184937,18.411377,14.3986206,14.6650391,13.3672485z M12,13c-2.7614136,0-5-2.2385864-5-5s2.2385864-5,5-5c2.7600708,0.0032349,4.9967651,2.2399292,5,5C17,10.7614136,14.7614136,13,12,13z"/>
                                                    </svg>
                                                    个人中心
                                                </a>
                                                <a class="dropdown-item"
                                                   href="/login/">
                                                    <i class="fa-solid fa-right-from-bracket"></i>
                                                    切换账号
                                                </a>
                                                <a class="dropdown-item" href="/logout/">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-inner-icn"
                                                         enable-background="new 0 0 24 24"
                                                         viewBox="0 0 24 24">
                                                        <path
                                                                d="M10.6523438,16.140625c-0.09375,0.09375-0.1464233,0.2208862-0.1464233,0.3534546c0,0.276123,0.2238159,0.5,0.499939,0.500061c0.1326294,0.0001221,0.2598267-0.0525513,0.3534546-0.1464844l4.4941406-4.4941406c0.000061-0.000061,0.0001221-0.000061,0.0001831-0.0001221c0.1951294-0.1952515,0.1950684-0.5117188-0.0001831-0.7068481L11.359314,7.1524048c-0.1937256-0.1871338-0.5009155-0.1871338-0.6947021,0c-0.1986084,0.1918335-0.2041016,0.5083618-0.0122681,0.7069702L14.2930298,11.5H2.5C2.223877,11.5,2,11.723877,2,12s0.223877,0.5,0.5,0.5h11.7930298L10.6523438,16.140625z M16.4199829,3.0454102C11.4741821,0.5905762,5.4748535,2.6099243,3.0200195,7.5556641C2.8970337,7.8029175,2.9978027,8.1030884,3.2450562,8.2260742C3.4923706,8.3490601,3.7925415,8.248291,3.9155273,8.0010376c0.8737793-1.7612305,2.300354-3.1878052,4.0615845-4.0615845C12.428833,1.730835,17.828064,3.5492554,20.0366821,8.0010376c2.2085571,4.4517212,0.3901367,9.8509521-4.0615845,12.0595703c-4.4517212,2.2085571-9.8510132,0.3901367-12.0595703-4.0615845c-0.1229858-0.2473145-0.4231567-0.3480835-0.6704102-0.2250977c-0.2473145,0.1229858-0.3480835,0.4230957-0.2250977,0.6704102c1.6773682,3.4109497,5.1530762,5.5667114,8.9541016,5.5537109c3.7976685,0.0003662,7.2676392-2.1509399,8.9560547-5.5526733C23.3850098,11.4996338,21.3657227,5.5002441,16.4199829,3.0454102z"/>
                                                    </svg>
                                                    退出
                                                </a>
                                            </div>
                                        </div>
                                        <!-- Profile -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /app-Header -->

            <!--APP-SIDEBAR-->
            <div class="sticky">
                <div class="app-sidebar__overlay" data-bs-toggle="sidebar"></div>
                <div class="app-sidebar">
                    <div class="side-header">
                        <a class="header-brand1" href="#">
                            <img src="{% static '/images/logo.png' %}" class="header-brand-img desktop-logo" alt="logo">
                            <img src="{% static '/images/logo.png' %}" class="header-brand-img toggle-logo" alt="logo">
                            <img src="{% static '/images/logo.png' %}" class="header-brand-img light-logo" alt="logo">
                            <img src="{% static '/images/logo.png' %}" class="header-brand-img light-logo1" alt="logo">
                        </a><!-- LOGO -->
                    </div>
                    <div class="main-sidemenu">
                        <div class="slide-left disabled" id="slide-left">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="#7b8191"
                                 width="24" height="24" viewBox="0 0 24 24">
                                <path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"/>
                            </svg>
                        </div>
                        <ul class="side-menu">
                            <li>
                                <h3>菜单(Menu)</h3>
                            </li>
                            <li class="slide">
                                <a class="side-menu__item has-link" data-bs-toggle="slide" href="/doc/query/">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon"
                                         enable-background="new 0 0 24 24"
                                         viewBox="0 0 24 24">
                                        <path
                                                d="M19.9794922,7.9521484l-6-5.2666016c-1.1339111-0.9902344-2.8250732-0.9902344-3.9589844,0l-6,5.2666016C3.3717041,8.5219116,2.9998169,9.3435669,3,10.2069702V19c0.0018311,1.6561279,1.3438721,2.9981689,3,3h2.5h7c0.0001831,0,0.0003662,0,0.0006104,0H18c1.6561279-0.0018311,2.9981689-1.3438721,3-3v-8.7930298C21.0001831,9.3435669,20.6282959,8.5219116,19.9794922,7.9521484z M15,21H9v-6c0.0014038-1.1040039,0.8959961-1.9985962,2-2h2c1.1040039,0.0014038,1.9985962,0.8959961,2,2V21z M20,19c-0.0014038,1.1040039-0.8959961,1.9985962-2,2h-2v-6c-0.0018311-1.6561279-1.3438721-2.9981689-3-3h-2c-1.6561279,0.0018311-2.9981689,1.3438721-3,3v6H6c-1.1040039-0.0014038-1.9985962-0.8959961-2-2v-8.7930298C3.9997559,9.6313477,4.2478027,9.0836182,4.6806641,8.7041016l6-5.2666016C11.0455933,3.1174927,11.5146484,2.9414673,12,2.9423828c0.4853516-0.0009155,0.9544067,0.1751099,1.3193359,0.4951172l6,5.2665405C19.7521973,9.0835571,20.0002441,9.6313477,20,10.2069702V19z"/>
                                    </svg>
                                    <span class="side-menu__label">智能检索</span>
                                </a>
                            </li>
                            <li class="slide">
                                <a class="side-menu__item has-link" data-bs-toggle="slide" href="/chart/list/">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon"
                                         enable-background="new 0 0 24 24" viewBox="0 0 24 24">
                                        <path d="M21.5,21H20V4.5C20,4.223877,19.776123,4,19.5,4S19,4.223877,19,4.5V21h-3v-8.5c0-0.276123-0.223877-0.5-0.5-0.5S15,12.223877,15,12.5V21h-3V8.5C12,8.223877,11.776123,8,11.5,8S11,8.223877,11,8.5V21H8v-4.5C8,16.223877,7.776123,16,7.5,16S7,16.223877,7,16.5V21H3V2.5C3,2.223877,2.776123,2,2.5,2S2,2.223877,2,2.5v19.0005493C2.0001831,21.7765503,2.223999,22.0001831,2.5,22h19c0.276123,0,0.5-0.223877,0.5-0.5S21.776123,21,21.5,21z"></path>
                                    </svg>
                                    <span class="side-menu__label">数据统计</span>
                                </a>
                            </li>
                            <li class="slide">
                                <a class="side-menu__item has-link" data-bs-toggle="slide" href="/chart/graph/">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon"
                                         enable-background="new 0 0 24 24" viewBox="0 0 24 24">
                                        <path d="M20.6601562,7c-0.767334-1.3284302-2.5855103-1.836853-4.8673706-1.5704346C14.8826904,3.3205566,13.5338745,2,12,2S9.1172485,3.3204956,8.2071533,5.4296265C5.9249268,5.1627808,4.1060181,5.6706543,3.3398438,7c-0.7667847,1.3283081-0.2972412,3.1570435,1.074585,5c-1.3718262,1.8429565-1.8413696,3.6716919-1.074646,5c0.6367188,1.1025391,1.9942017,1.6435547,3.7421875,1.6435547c0.3729858-0.0189819,0.7437134-0.0548096,1.112915-0.1002197C9.1050415,20.6685791,10.4594116,22,12,22s2.8949585-1.3314209,3.8051147-3.456665c0.3692017,0.0454102,0.7399292,0.0812378,1.112915,0.1002197c1.7469482,0,3.1063843-0.5410156,3.7421265-1.6435547c0.7667847-1.3283081,0.2972412-3.1570435-1.074585-5C20.9573975,10.1570435,21.4269409,8.3283081,20.6601562,7z M15.6480713,8.3894043C15.2786865,8.1427612,14.8995972,7.9006348,14.5,7.6699219c-0.3996582-0.230835-0.7990723-0.4382935-1.1974487-0.6350098c0.6378784-0.2148438,1.2570801-0.3780518,1.8477173-0.4918823C15.3469238,7.1115112,15.5151978,7.7294312,15.6480713,8.3894043z M12,3c1.0654297,0,2.0482178,0.9987793,2.7738037,2.5901489c-0.8824463,0.1806641-1.8171387,0.4703369-2.7739868,0.8580933C11.0432129,6.06073,10.1085815,5.7709351,9.2261353,5.59021C9.9517212,3.9987793,10.9345093,3,12,3z M8.8425293,6.5646973c0.6322021,0.1143799,1.2553101,0.2702026,1.866333,0.4645996C10.3067017,7.2276001,9.9035645,7.4368286,9.5,7.6699219C9.1004028,7.9006348,8.7213135,8.1427612,8.3519287,8.3894043C8.4831543,7.7377319,8.6489868,7.1273193,8.8425293,6.5646973z M4.2050781,7.5c0.6743774-0.8552856,1.7492065-1.2923584,2.8291016-1.1503906c0.2658691,0.0151367,0.5303345,0.0407715,0.7941895,0.0700073c-0.2806396,0.8480225-0.494751,1.7927856-0.6360474,2.8049927C6.3783569,9.859436,5.6602173,10.5241089,5.0626221,11.197998C4.0467529,9.7736816,3.6727905,8.4230347,4.2050781,7.5z M7.0488892,13.3538208C6.5440674,12.9088745,6.0932007,12.4544067,5.6994019,12c0.3937988-0.4544067,0.8446655-0.9089355,1.3494873-1.3538818C7.0200195,11.0892944,7,11.5386353,7,12S7.0200195,12.9107056,7.0488892,13.3538208z M4.2050781,16.5c-0.5322876-0.9230347-0.1583252-2.2736816,0.8575439-3.697998c0.5975952,0.6738892,1.3157349,1.338562,2.1296997,1.9733887c0.1427002,1.0221558,0.3591309,1.9763184,0.6437988,2.8307495C6.0949097,17.7734375,4.7382812,17.4219971,4.2050781,16.5z M8.3519287,15.6105957C8.7213135,15.8572388,9.1004028,16.0993652,9.5,16.3300781c0.3783569,0.2339478,0.7686157,0.4447021,1.1637573,0.6447144c-0.6261597,0.2092285-1.2341309,0.3692017-1.8143921,0.4810181C8.652832,16.8876953,8.4847412,16.2700806,8.3519287,15.6105957z M12,21c-1.0717163,0-2.0603027-1.0095215-2.7870483-2.6173096C10.1655884,18.2009888,11.0983276,17.9318848,12,17.5773926c0.9016113,0.3544922,1.8344116,0.6235962,2.7870483,0.8052979C14.0603027,19.9904785,13.0717163,21,12,21z M15.1503906,17.456543c-0.5805054-0.1118164-1.1887207-0.2718506-1.8151245-0.4812622C13.7307739,16.7751465,14.1212769,16.56427,14.5,16.3300781c0.3995972-0.2307129,0.7786865-0.4728394,1.1480713-0.7194824C15.5151978,16.2703857,15.3470459,16.8881836,15.1503906,17.456543z M15.8648682,14.2316284C15.2859497,14.6641235,14.6652832,15.0805054,14,15.4648438c-0.6655884,0.3839111-1.3366699,0.7131958-2.0007935,0.9981689C11.3355713,16.1780396,10.6650391,15.8487549,10,15.4648438c-0.6652832-0.3843384-1.2859497-0.8007202-1.8648682-1.2332153C8.0501099,13.5140381,8,12.7683105,8,12s0.0501099-1.5140381,0.1351318-2.2316284C8.7140503,9.3358765,9.3347168,8.9194946,10,8.5351562c0.6747437-0.3895264,1.3552246-0.7230835,2.0283813-1.0108032C12.7068481,7.8132324,13.3676758,8.1464844,14,8.5351562c0.6652832,0.3843384,1.2859497,0.8007202,1.8648682,1.2332153C15.9498901,10.4859619,16,11.2316895,16,12S15.9498901,13.5140381,15.8648682,14.2316284z M19.7949219,7.5c0.5322876,0.9230347,0.1583252,2.2736816-0.8575439,3.697998c-0.5975952-0.6738892-1.3157349-1.338562-2.1296997-1.9733887c-0.1427612-1.022644-0.359314-1.9771729-0.644165-2.8319092C17.90448,6.2254639,19.2612915,6.5772095,19.7949219,7.5z M16.9511108,10.6461182C17.4559326,11.0910645,17.9067993,11.5455933,18.3005981,12c-0.3937988,0.4544067-0.8446655,0.9088745-1.3494873,1.3538208C16.9799805,12.9107056,17,12.4613647,17,12S16.9799805,11.0892944,16.9511108,10.6461182z M19.7949219,16.5c-0.5328369,0.9221191-1.8897095,1.2739868-3.6312866,1.1068115c0.28479-0.8546143,0.5013428-1.80896,0.644043-2.8314209c0.8139648-0.6348267,1.5321045-1.2994995,2.1296997-1.9733887C19.9532471,14.2263184,20.3272095,15.5769653,19.7949219,16.5z"></path>
                                    </svg>
                                    <span class="side-menu__label">知识图谱</span>
                                </a>
                            </li>
                            <li>
                                <h3>管理(MANAGEMENT)</h3>
                            </li>
                            <li class="slide">
                                <a class="side-menu__item" data-bs-toggle="slide" href="#">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="side-menu__icon"
                                         enable-background="new 0 0 24 24" viewBox="0 0 24 24">
                                        <path d="M2.25,8.4521484l9.5,5.4804688C11.8259277,13.9767456,11.9121704,14,12,14s0.1740723-0.0232544,0.25-0.0673828l9.5-5.4804688c0.0759888-0.0438843,0.1390381-0.1069946,0.1829224-0.1829224C22.071106,8.0300293,21.9891968,7.7241211,21.75,7.5859375l-9.5-5.4755859c-0.1550903-0.0878906-0.3449097-0.0878906-0.5,0l-9.5,5.4755859C2.1740112,7.6298218,2.1109619,7.6929321,2.0670776,7.7688599C1.928894,8.0080566,2.0108032,8.3139648,2.25,8.4521484z M12,3.1210938l8.4990234,4.8984375L12,12.9228516L3.5009766,8.0195312L12,3.1210938z M21.2479858,15.5263672L12,20.9208984l-9.2481079-5.3945312c-0.2384033-0.1391602-0.5444336-0.0587158-0.6835938,0.1796875s-0.0587158,0.5444336,0.1796875,0.6835938l9.5,5.5419922C11.8244019,21.9765015,11.911377,22.0001221,12,22c0.088562,0.0001221,0.1755371-0.0234985,0.2518921-0.0683594l9.5-5.5419922c0.2384033-0.1391602,0.3188477-0.4451904,0.1796875-0.6835938S21.4863892,15.387207,21.2479858,15.5263672z M21.2479858,11.5263672L12,16.9208984l-9.2481079-5.3945312c-0.2384033-0.1391602-0.5444336-0.0587158-0.6835938,0.1796875s-0.0587158,0.5444336,0.1796875,0.6835938l9.5,5.5419922C11.8244019,17.9765015,11.911377,18.0001221,12,18c0.088562,0.0001221,0.1755371-0.0234985,0.2518921-0.0683594l9.5-5.5419922c0.2384033-0.1391602,0.3188477-0.4451904,0.1796875-0.6835938S21.4863892,11.387207,21.2479858,11.5263672z"></path>
                                    </svg>
                                    <span class="side-menu__label">资源管理</span><i class="angle fa fa-angle-right"></i>
                                </a>
                                <ul class="slide-menu">
                                    <li class="side-menu-label1"><a href="javascript:void(0)">资源管理</a></li>
                                    <li>
                                        <a href="/doc/list/" class="slide-item">
                                            <i class="fa fa-file-pdf">文献管理</i>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/admin" class="slide-item">
                                            <i class="fa fa-user">后台管理</i>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                        <div class="slide-right" id="slide-right">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="#7b8191" width="24"
                                 height="24" viewBox="0 0 24 24">
                                <path d="M10.707 17.707 16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
            <!--/APP-SIDEBAR-->
            <!--app-content open-->
            <div class="app-content wrappercontent main-content mt-0" style="overflow: auto;">
                <div class="side-app">
                    <!-- CONTAINER -->
                    <div class="main-container container-fluid">
                        {#                        <div class="row card">#}
                        {% block info %}{% endblock %}
                        {#                        </div>#}

                    </div>
                </div>
            </div>
            <!-- CONTAINER END -->
        </div>
    </div>
    {#    <div>#}
    <canvas id="particles-js" class="background"></canvas>
    <div class="pvr_chat_button" id="chat_btn"
         data-bs-toggle="modal"
         data-bs-target="#chat_modal">
        <i class="fa-solid fa-robot "></i>
        {#            <span>Assistant</span>#}
    </div>
    <div class="modal fade" id="chat_modal" tabindex="-1"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable pvr_chat_wrapper">
            <div class="pvr_chat_content modal-content">
                <div class="close_chat" data-bs-dismiss="modal">
                    <i class="fa-solid fa-xmark" style="font-size: 30px"></i>
                </div>
                <div class="chat_header modal-header">
                    <div class="pvr-user-w with-status status-green">
                        <div class="pvr-user-avatar-w">
                            <div class="user-avatar">
                                <img alt="" src="{% static '/images/favicon/favicon.png' %}">
                            </div>
                        </div>
                        <div class="user-name">
                            <div class="user-role">
                                AI智能助手-智小医
                            </div>
                        </div>
                    </div>
                </div>
                <div class="chat-messages theme_2 modal-body">
                    <div class="date-break">
                        {{ now }}
                    </div>
                    <div class="message">
                        <div class="message-content">
                            您好，我是智小医，您有医学相关的问题都可以问我哦！😉
                        </div>
                    </div>
                </div>
                <div class="chat-controls modal-footer">
                    <input class="message-input" id="message-input"
                           placeholder="Type your question here..."
                           type="text">
                    <div class="chat-extra">
                        <a href="javascript:void(0)" class="change_chat_theme">
                            <span class="extra-tooltip">切换主题</span>
                            <i class="fa-solid fa-palette "></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {#    </div>#}
    <!-- BACK-TO-TOP -->
    <a href="#top" id="back-to-top"><i class="fa fa-long-arrow-up"></i></a>
{% endblock %}
{% compress js %}
    <script src="{% static 'js/jquery-3.6.1.min.js' %}"></script>
    <script src="{% static 'plugins/bootstrap-5.2.3/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'plugins/bootstrap-5.2.3/js/popper.min.js' %}"></script>
{% endcompress %}
<script src="https://cdn.bootcdn.net/ajax/libs/Darkmode.js/1.5.7/darkmode-js.min.js"></script>
{% compress js %}
    <script src="{% static '/plugins/perfect-scrollbar/js/perfect-scrollbar.jquery.min.js' %}"
            type="text/javascript"></script>
    <script src="{% static '/plugins/backstretch/backstretch.js' %}" type="text/javascript"></script>
    <script src="{% static '/js/robot.js' %}"></script>
    <script src="{% static '/js/sticky.js' %}"></script>
    <script src="{% static '/js/custom.js' %}"></script>
    <script src="{% static '/js/sidebar.js' %}"></script>
    <script src="{% static '/js/sidemenu.js' %}"></script>
    <script src="{% static '/js/perfect-scrollbar.js' %}"></script>
    <script src="{% static '/js/counters-1.js' %}"></script>
    <script src="{% static '/js/counterup.min.js' %}"></script>
    <script src="{% static '/js/waypoints.min.js' %}"></script>
{% endcompress %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/particlesjs/2.2.2/particles.min.js"></script>
{% compress js %}
    <script type="text/javascript">
        window.onload
            = function () {
            Particles.init
            ({
                selector:
                    '.background'
            });
        };
    </script>
    <script type="text/javascript">
        var CLK_RANDOC_NUM = 0
        $(function () {
            thememode();
            get_rank();
        })

        function get_rank() {
            $.ajax({
                url: "/rank/",
                type: 'get',
                dataType: 'json',
                {#data: {'cid': CLK_RANDOC_NUM},#}
                success: function (res) {
                    {#console.log(res);#}
                    let ranktbody = $("#ranktbody")
                    let rankinfo = res.rankinfo
                    ranktbody.children().remove()
                    for (let i = 0; i < rankinfo.length; i++) {
                        if (i % 2 === 0) {
                            class_status = 'even'
                        } else {
                            class_status = 'odd'
                        }
                        let tr = $("<tr>").attr({
                            'class': class_status,
                        })
                        let td1 = $("<td>").attr({
                            'class': "text-center sorting_1"
                        })
                        let td1_div = $("<div class='avatar avatar-md rounded-circle'>")
                        let avatar_img = $("<img alt='avatar' class='rounded-circle'>").attr('src', rankinfo[i].avatar)
                        td1_div.append(avatar_img);
                        td1.append(td1_div)
                        let td2 = $("<td>")
                        let usrname = $("<p class='tx-14 font-weight-semibold text-dark mb-1'>")
                        usrname.text(rankinfo[i].name)
                        {#console.log(usrname.text())#}
                        td2.append(usrname)
                        let td3 = $("<td>")
                        let read_num_span = $("<span class='badge bg-gradient text-muted tx-13'>").text(rankinfo[i].read_num)
                        td3.append(read_num_span)
                        let td4 = $("<td>")
                        let upload_span = $("<span class='badge bg-light text-muted tx-13'>").text(rankinfo[i].upload_num)
                        td4.append(upload_span)
                        let td5 = $("<td>")
                        let date_span = $("<span class='text-muted tx-13'>").text(rankinfo[i].register_date)
                        td5.append(date_span)
                        tr.append(td1)
                        tr.append(td2)
                        tr.append(td3)
                        tr.append(td4)
                        tr.append(td5)
                        ranktbody.append(tr)
                    }
                }
            })

        }

        function get_randoc() {
            $.ajax({
                url: "/doc/random/",
                type: 'get',
                dataType: 'json',
                data: {'cid': CLK_RANDOC_NUM},
                success: function (res) {
                    {#console.log(res);#}
                    let doccard = $("#doccard")
                    doccard.children().remove()
                    let a = $("<a>").attr({
                        'href': "/media/docs/" + res.doc_cover_name + ".pdf",
                        'class': "card",
                        'style': "display:flex;align-items: center;"
                    })
                    let cover = $("<img>").attr({
                        'src': res.doc_cover_url,
                        'alt': "图片不存在",
                        'width': '256px',
                        'height': '256px',
                        'class': "animate__animated animate__flipInX"
                    })
                    let doc_name = $("<div style='justify-content: center;display: flex;'>").text(res.doc_cover_name)
                    a.append(cover)
                    doccard.append(a)
                    doccard.append(doc_name)
                    CLK_RANDOC_NUM += 1
                }
            })
        }

        function thememode() {
            const options = {
                bottom: 'unset', // default: '32px'
                right: 'unset', // default: '32px'
                left: '15px', // default: 'unset'
                time: '0.5s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: '#fff', // default: '#fff'
                buttonColorDark: '#100f2c', // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: '🌓', // default: ''
                autoMatchOsTheme: true// default: true
            }

            function addDarkmodeWidget() {
                let darkmode = new Darkmode(options);
                darkmode.showWidget();
                $(".darkmode-toggle").on('click', function () {
                    if (darkmode.isActivated()) {
                        $(".panel").attr('class', 'panel panel-success')
                        $(".list-group-item[id]").css({
                            "color": "#3c763d",
                            "background-color": "#a5d29a",
                            "border-color": "#d6e9c6"
                        });
                        {#console.log('设置面板样式', darkmode.isActivated())#}
                    } else {
                        $(".panel").attr('class', 'panel panel-info')
                        $(".list-group-item[id]").css({
                            "color": "#3c763d",
                            "background-color": "#dff0d8",
                            "border-color": "#d6e9c6"
                        });
                        {#console.log('恢复面板样式', darkmode.isActivated())#}
                    }
                })

            }

            window.addEventListener('load', addDarkmodeWidget);
        }

        function getFormatDate() {
            var date = new Date();
            var month = date.getMonth() + 1;
            var strDate = date.getDate();
            var hours = date.getHours();
            var minutes = date.getMinutes();
            var seconds = date.getSeconds();
            if (month >= 1 && month <= 9) {
                month = "0" + month;
            }
            if (strDate >= 0 && strDate <= 9) {
                strDate = "0" + strDate;
            }
            if (hours >= 0 && hours <= 9) {
                hours = "0" + hours;
            }
            if (minutes >= 0 && minutes <= 9) {
                minutes = "0" + minutes;
            }
            if (seconds >= 0 && seconds <= 9) {
                seconds = "0" + seconds;
            }
            return date.getFullYear() + "-" + month + "-" + strDate
                + " " + date.getHours() + ":" + minutes + ":" + seconds;
        }
    </script>
{% endcompress %}
{% block myscript %}
{% endblock %}
</body>
</html>